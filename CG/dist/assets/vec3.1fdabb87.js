var T=1e-6,S=typeof Float32Array!="undefined"?Float32Array:Array;Math.hypot||(Math.hypot=function(){for(var r=0,n=arguments.length;n--;)r+=arguments[n]*arguments[n];return Math.sqrt(r)});function $(){var r=new S(16);return S!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}function V(r){return r[0]=1,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=1,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=1,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,r}function j(r,n,i){var e=n[0],v=n[1],a=n[2],s=n[3],c=n[4],h=n[5],l=n[6],f=n[7],y=n[8],M=n[9],p=n[10],g=n[11],w=n[12],F=n[13],N=n[14],O=n[15],z=i[0],x=i[1],A=i[2],m=i[3];return r[0]=z*e+x*c+A*y+m*w,r[1]=z*v+x*h+A*M+m*F,r[2]=z*a+x*l+A*p+m*N,r[3]=z*s+x*f+A*g+m*O,z=i[4],x=i[5],A=i[6],m=i[7],r[4]=z*e+x*c+A*y+m*w,r[5]=z*v+x*h+A*M+m*F,r[6]=z*a+x*l+A*p+m*N,r[7]=z*s+x*f+A*g+m*O,z=i[8],x=i[9],A=i[10],m=i[11],r[8]=z*e+x*c+A*y+m*w,r[9]=z*v+x*h+A*M+m*F,r[10]=z*a+x*l+A*p+m*N,r[11]=z*s+x*f+A*g+m*O,z=i[12],x=i[13],A=i[14],m=i[15],r[12]=z*e+x*c+A*y+m*w,r[13]=z*v+x*h+A*M+m*F,r[14]=z*a+x*l+A*p+m*N,r[15]=z*s+x*f+A*g+m*O,r}function B(r,n,i){var e=i[0],v=i[1],a=i[2],s,c,h,l,f,y,M,p,g,w,F,N;return n===r?(r[12]=n[0]*e+n[4]*v+n[8]*a+n[12],r[13]=n[1]*e+n[5]*v+n[9]*a+n[13],r[14]=n[2]*e+n[6]*v+n[10]*a+n[14],r[15]=n[3]*e+n[7]*v+n[11]*a+n[15]):(s=n[0],c=n[1],h=n[2],l=n[3],f=n[4],y=n[5],M=n[6],p=n[7],g=n[8],w=n[9],F=n[10],N=n[11],r[0]=s,r[1]=c,r[2]=h,r[3]=l,r[4]=f,r[5]=y,r[6]=M,r[7]=p,r[8]=g,r[9]=w,r[10]=F,r[11]=N,r[12]=s*e+f*v+g*a+n[12],r[13]=c*e+y*v+w*a+n[13],r[14]=h*e+M*v+F*a+n[14],r[15]=l*e+p*v+N*a+n[15]),r}function C(r,n,i){var e=i[0],v=i[1],a=i[2];return r[0]=n[0]*e,r[1]=n[1]*e,r[2]=n[2]*e,r[3]=n[3]*e,r[4]=n[4]*v,r[5]=n[5]*v,r[6]=n[6]*v,r[7]=n[7]*v,r[8]=n[8]*a,r[9]=n[9]*a,r[10]=n[10]*a,r[11]=n[11]*a,r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15],r}function D(r,n,i,e){var v=e[0],a=e[1],s=e[2],c=Math.hypot(v,a,s),h,l,f,y,M,p,g,w,F,N,O,z,x,A,m,Y,b,E,I,P,R,k,q,L;return c<T?null:(c=1/c,v*=c,a*=c,s*=c,h=Math.sin(i),l=Math.cos(i),f=1-l,y=n[0],M=n[1],p=n[2],g=n[3],w=n[4],F=n[5],N=n[6],O=n[7],z=n[8],x=n[9],A=n[10],m=n[11],Y=v*v*f+l,b=a*v*f+s*h,E=s*v*f-a*h,I=v*a*f-s*h,P=a*a*f+l,R=s*a*f+v*h,k=v*s*f+a*h,q=a*s*f-v*h,L=s*s*f+l,r[0]=y*Y+w*b+z*E,r[1]=M*Y+F*b+x*E,r[2]=p*Y+N*b+A*E,r[3]=g*Y+O*b+m*E,r[4]=y*I+w*P+z*R,r[5]=M*I+F*P+x*R,r[6]=p*I+N*P+A*R,r[7]=g*I+O*P+m*R,r[8]=y*k+w*q+z*L,r[9]=M*k+F*q+x*L,r[10]=p*k+N*q+A*L,r[11]=g*k+O*q+m*L,n!==r&&(r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r)}function G(r,n,i){var e=Math.sin(i),v=Math.cos(i),a=n[4],s=n[5],c=n[6],h=n[7],l=n[8],f=n[9],y=n[10],M=n[11];return n!==r&&(r[0]=n[0],r[1]=n[1],r[2]=n[2],r[3]=n[3],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[4]=a*v+l*e,r[5]=s*v+f*e,r[6]=c*v+y*e,r[7]=h*v+M*e,r[8]=l*v-a*e,r[9]=f*v-s*e,r[10]=y*v-c*e,r[11]=M*v-h*e,r}function H(r,n,i){var e=Math.sin(i),v=Math.cos(i),a=n[0],s=n[1],c=n[2],h=n[3],l=n[8],f=n[9],y=n[10],M=n[11];return n!==r&&(r[4]=n[4],r[5]=n[5],r[6]=n[6],r[7]=n[7],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=a*v-l*e,r[1]=s*v-f*e,r[2]=c*v-y*e,r[3]=h*v-M*e,r[8]=a*e+l*v,r[9]=s*e+f*v,r[10]=c*e+y*v,r[11]=h*e+M*v,r}function J(r,n,i){var e=Math.sin(i),v=Math.cos(i),a=n[0],s=n[1],c=n[2],h=n[3],l=n[4],f=n[5],y=n[6],M=n[7];return n!==r&&(r[8]=n[8],r[9]=n[9],r[10]=n[10],r[11]=n[11],r[12]=n[12],r[13]=n[13],r[14]=n[14],r[15]=n[15]),r[0]=a*v+l*e,r[1]=s*v+f*e,r[2]=c*v+y*e,r[3]=h*v+M*e,r[4]=l*v-a*e,r[5]=f*v-s*e,r[6]=y*v-c*e,r[7]=M*v-h*e,r}function X(r,n,i,e,v){var a=1/Math.tan(n/2),s;return r[0]=a/i,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=a,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,v!=null&&v!==1/0?(s=1/(e-v),r[10]=(v+e)*s,r[14]=2*v*e*s):(r[10]=-1,r[14]=-2*e),r}var K=X;function Z(r,n,i,e,v,a,s){var c=1/(n-i),h=1/(e-v),l=1/(a-s);return r[0]=-2*c,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=-2*h,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[10]=2*l,r[11]=0,r[12]=(n+i)*c,r[13]=(v+e)*h,r[14]=(s+a)*l,r[15]=1,r}var Q=Z;function U(r,n,i,e){var v,a,s,c,h,l,f,y,M,p,g=n[0],w=n[1],F=n[2],N=e[0],O=e[1],z=e[2],x=i[0],A=i[1],m=i[2];return Math.abs(g-x)<T&&Math.abs(w-A)<T&&Math.abs(F-m)<T?V(r):(f=g-x,y=w-A,M=F-m,p=1/Math.hypot(f,y,M),f*=p,y*=p,M*=p,v=O*M-z*y,a=z*f-N*M,s=N*y-O*f,p=Math.hypot(v,a,s),p?(p=1/p,v*=p,a*=p,s*=p):(v=0,a=0,s=0),c=y*s-M*a,h=M*v-f*s,l=f*a-y*v,p=Math.hypot(c,h,l),p?(p=1/p,c*=p,h*=p,l*=p):(c=0,h=0,l=0),r[0]=v,r[1]=c,r[2]=f,r[3]=0,r[4]=a,r[5]=h,r[6]=y,r[7]=0,r[8]=s,r[9]=l,r[10]=M,r[11]=0,r[12]=-(v*g+a*w+s*F),r[13]=-(c*g+h*w+l*F),r[14]=-(f*g+y*w+M*F),r[15]=1,r)}function _(){var r=new S(3);return S!=Float32Array&&(r[0]=0,r[1]=0,r[2]=0),r}function W(r,n,i){var e=new S(3);return e[0]=r,e[1]=n,e[2]=i,e}(function(){var r=_();return function(n,i,e,v,a,s){var c,h;for(i||(i=3),e||(e=0),v?h=Math.min(v*i+e,n.length):h=n.length,c=e;c<h;c+=i)r[0]=n[c],r[1]=n[c+1],r[2]=n[c+2],a(r,r,s),n[c]=r[0],n[c+1]=r[1],n[c+2]=r[2];return n}})();export{H as a,J as b,$ as c,D as d,W as f,U as l,j as m,Q as o,K as p,G as r,C as s,B as t};
